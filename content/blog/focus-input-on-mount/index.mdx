---
title: How to focus input on mount in React?
date: 2021-08-31
updatedAt: 2021-08-31
categories: ['react']
draft: false
description: In this article, I'll explain how to focus input when the component mount.
banner: /images/focus-input-on-mount.jpeg
bannerCredit: Photo by Elena Taranenko on Unsplash
---

Having a better UX retains the user. So when ever user lands in a page where the user always have to click the input
box is not a better UX.
Instead of making the user click the input box we are going to tell react to focus the input box on mount. So user don't have to do that.

Let's create an sample login form to see how to focus input on mount.

<Highlight code={
`
import * as React from "react";

function LoginForm() {
return (

<form onSubmit={(e) => e.preventDefault()} style={{border: '1px solid black', padding: '16px'}}>
  <h2 style={{margin: '10px'}}>Login form</h2>
  <label>
    email: <input placeholder="email" name="email" type="email" />
  </label>
  <br />
  <label>
    password: <input placeholder="password" name="password" type="password" />
  </label>
  <br />
  <button type="submit" style={{border: '1px solid black', padding: '8px 14px'}}>
    login
  </button>
</form>
); } ` } language="jsx"/>

import App, {LoginForm} from './Component'

Here is how the component look like when it renders.

<LoginForm />

Now, let's see how we going to focus the element. To focus an element we need to do the following steps:

1. Select the element(DOM node). In our case, the element is input.
2. Programatically focus the element.

In React, If we want to select an element we can use the React.useRef() hook. Using that hook we can select the element.

Let's add useRef to our login form email input element

```js
import * as React from 'react'

function LoginForm() {
  const emailInputRef = React.useRef(null)
  return (
    <form onSubmit={(e) => e.preventDefault()} style={{border: '1px solid black', padding: '16px'}}>
      <h2 style={{margin: '10px'}}>Login form</h2>
      <label>
        email: <input placeholder="email" name="email" type="email" ref={emailInputRef} />
      </label>
      <br />
      <label>
        password: <input placeholder="password" name="password" type="password" />
      </label>
      <br />
      <button type="submit" style={{border: '1px solid black', padding: '8px 14px'}}>
        login
      </button>
    </form>
  )
}
```

Now, React will point the emailInputRef to the email input DOM element. Now, the remaining past is
we have to focus the element on mount.

To perform some action on mount in React, we can use the React.useEffect hook. useEffect hook accepts two parameters.
The first is the callback we want call on mount and the second is the dependency array. In our case, we have to call the callback
on mount, so we have to pass empty array as dependency array.

```js
import * as React from 'react'

function LoginForm() {
  const emailInputRef = React.useRef(null)

  React.useEffect(() => {
    emailInputRef.current.focus()
  }, [])

  return (
    <form onSubmit={(e) => e.preventDefault()} style={{border: '1px solid black', padding: '16px'}}>
      <h2 style={{margin: '10px'}}>Login form</h2>
      <label>
        email: <input placeholder="email" name="email" type="email" ref={emailInputRef} />
      </label>
      <br />
      <label>
        password: <input placeholder="password" name="password" type="password" />
      </label>
      <br />
      <button type="submit" style={{border: '1px solid black', padding: '8px 14px'}}>
        login
      </button>
    </form>
  )
}
```

`emailInputRef.current.focus()` this will focus the email input on mount.

<App />

The above one is an interactive component.

If you click `mount login form`, it will mount and unmount the login form component.
From the above you can see that the component is focusing the input on mount. If you uncheck the `should focus input on mount`
option and unmount and mount the component it will not focus.

In Summary:

1. We used the React.useRef to select the DOM elemen(input).
2. We used the emailInputRef.current.focus() to focus the element on mount.
3. And we used the React.useEffect with empty dependency array to call the callback in mount.
